!function(t){"use strict";function e(t,e,n){Object.defineProperty(t,e,n)}function n(t,n,a){e(t,n,{enumerable:!1,value:a})}function a(){e(this,"_version",{value:0,enumerable:!0,writable:!0})}function o(t){a.call(this),e(this,"_data",{value:t||[],enumerable:!1}),e(this,"length",{enumerable:!1,get:function(){return this._data.length}})}function i(t){a.call(this),e(this,"_data",{value:t||{},enumerable:!1})}n(a.prototype,"_updateVersion",function(){this._version+=1}),o.prototype=Object.create(a.prototype),n(o.prototype,"toValue",function(){return this._data.slice()}),"push pop shift unshift splice".split(" ").forEach(function(t){n(o.prototype,t,function(){this._data[t].apply(this._data,arguments),this._updateVersion()})}),"map filter".split(" ").forEach(function(t){n(o.prototype,t,function(){return new o(this._data[t].apply(this._data,arguments))})}),"reduce every reduceRight".split(" ").forEach(function(t){n(o.prototype,t,function(){return this._data[t].apply(this._data,arguments)})}),n(o.prototype,"forEach",function(){this._data.forEach.apply(this._data,arguments),this._updateVersion()}),n(o.prototype,"concat",function(t){return new o(this._data.concat(t._data))}),"indexOf lastIndexOf".split(" ").forEach(function(t){n(o.prototype,t,function(){return this._data[t].apply(this._data,arguments)})}),n(o.prototype,"sort",function(){return new o(this._data.sort.apply(this._data,arguments))}),i.prototype=Object.create(a.prototype),n(i.prototype,"set",function(t,e){this._data[t]=e,this._updateVersion()}),n(i.prototype,"get",function(t){return this._data[t]}),n(i.prototype,"remove",function(t){var e=this._data[t];return void 0!==this._data[t]&&(delete this._data[t],this._updateVersion()),e}),n(i.prototype,"keys",function(){return Object.keys(this._data)}),angular.module("VersionableCollections",[]).factory("VersionableList",function(){return o}).factory("VersionableMap",function(){return i})}("undefined"==typeof window?module.exports:window);