!function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():t.VersionableList=e()}(this,function(){"use strict";function t(t,e,n){Object.defineProperty(t,e,n)}function e(e,n,a){t(e,n,{enumerable:!1,value:a})}function n(e){var n=0;t(this,"_version",{get:function(){return n},set:function(t){n=t},enumerable:!0}),t(this,"_data",{value:e||[],enumerable:!1}),t(this,"length",{enumerable:!1,get:function(){return this._data.length}})}return e(n.prototype,"toValue",function(){return this._data.slice()}),e(n.prototype,"_updateVersion",function(){this._version+=1}),"push pop shift unshift splice".split(" ").forEach(function(t){e(n.prototype,t,function(){this._data[t].apply(this._data,arguments),this._updateVersion()})}),"map filter".split(" ").forEach(function(t){e(n.prototype,t,function(){return new n(this._data[t].apply(this._data,arguments))})}),"reduce every reduceRight".split(" ").forEach(function(t){e(n.prototype,t,function(){return this._data[t].apply(this._data,arguments)})}),e(n.prototype,"forEach",function(){this._data.forEach.apply(this._data,arguments),this._updateVersion()}),e(n.prototype,"concat",function(t){return new n(this._data.concat(t._data))}),"indexOf lastIndexOf".split(" ").forEach(function(t){e(n.prototype,t,function(){return this._data[t].apply(this._data,arguments)})}),e(n.prototype,"sort",function(){return new n(this._data.sort.apply(this._data,arguments))}),n});